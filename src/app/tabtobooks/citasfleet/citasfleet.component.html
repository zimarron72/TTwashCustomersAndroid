<ion-header>
    <ion-toolbar color="primary">
      <ion-buttons slot="start">
        <ion-menu-button autoHide="false"></ion-menu-button>
      </ion-buttons>
      <ion-title>FLEET APPOINMENTS</ion-title>
      
    </ion-toolbar>
    <div *ngIf="n == 1" class="waiting" style="font-weight: bolder;
    padding: 3%; background-color: #ca083f; color:#fff; border-bottom: solid 1px #fff; text-align: center; border-top: solid 1px #fff;">
      ON WAITING
      </div>
       <div *ngIf="n == 2" class="confirmed" >
      CONFIRMED
      </div>
      
       <div *ngIf="n == 7" class="attended">
      ATTENDED
      </div>
      
      <div *ngIf="n == 9" class="cancelled" >
      CANCELLED
      </div>

       <div *ngIf="n == 8" class="pagado" >
      PAID
      </div>

      <div *ngIf="n == 11" class="archived">
        ARCHIVED
        </div>
  
    <ion-toolbar *ngIf=" 2 >= n" class ="colorfont"  color="primary"> 
   
      <ion-icon name="information-circle" slot='start'  class ="colorfont" ></ion-icon>
      <ion-title size="small">Appointments can be canceled with at least 24 hours notice</ion-title>
     
    </ion-toolbar>
    <ion-toolbar *ngIf="n == 7" class ="colorfont" color="primary"> 
      <ion-icon name="warning" slot='start' class ="colorfont"></ion-icon>
      <ion-title size="small">Payment for these successfully completed appointments must be made as soon as possible.</ion-title>
    </ion-toolbar>
    <ion-toolbar *ngIf="n == 9" class ="colorfont" color="primary"> 
      <ion-icon name="information-circle" slot='start' class ="colorfont"></ion-icon>
      <ion-title size="small">These appointments have no effect and can be archived by you whenever you wish. However, after a month these are automatically archived.</ion-title>
    </ion-toolbar>

      <ion-toolbar *ngIf="n == 8" class ="colorfont" color="primary"> 
      <ion-icon name="information-circle" slot='start' class ="colorfont"></ion-icon>
      <ion-title size="small">These appointments have no effect and can be archived by you whenever you wish. However, after a month these are automatically archived.</ion-title>
    </ion-toolbar>

    <ion-toolbar *ngIf="n == 11" class ="colorfont" color="primary"> 
      <ion-icon name="information-circle" slot='start' class ="colorfont"></ion-icon>
      <ion-title size="small">These appointments have no effect and have been archived for informational purposes.</ion-title>
    </ion-toolbar>

  

    </ion-header>


  <ion-content>
      <ion-button (click) = "goBack()" fill="clear" style="color: #fff;" >
            <ion-icon slot="start" name="chevron-back-outline"></ion-icon>
            back    
          </ion-button>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

   <div *ngIf ='vermensaje' style="text-align: center; color:#f2f2f2"> <img src="./assets/imgs/icono_exclamacion.png" /><h4>Sorry, there is no information for this type of Appointment.</h4></div>
    <ion-grid color="primary" *ngIf ='verfiltros'>    
      <ion-row>
        <ion-col class="radio">
          <ion-button size="small" (click)="vermobil()" shape="round" color="light">
            <ion-icon slot="start" name="rocket" color="success"></ion-icon >           
            Mobile
          </ion-button>
        </ion-col>
        <ion-col class="radio">
          <ion-button size="small" (click)="veryard()" shape="round" color="light">
            <ion-icon slot="start" name="golf" color="tertiary"></ion-icon>           
            Onsite
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>


    
    

  
 <ion-accordion-group *ngFor="let element of conjunto | sortcitas : terms  ; let i = index " expand="inset" >
    <ion-accordion value=i>     
      <ion-item slot="header" color="light" >
    <ion-icon *ngIf="element.location == ''" name="warning" color="warning"></ion-icon>
        <ion-icon *ngIf="element.location == 'Mobile'" name="rocket" color="success"></ion-icon>
        <ion-icon *ngIf="element.location == 'Onsite'" name="golf" color="tertiary"></ion-icon>
        <ion-label>
          <strong *ngIf="element.location == ''" class="advertencia">Confirmation in process</strong>
          <strong *ngIf="element.location == 'Mobile'" class="mobile">{{element.location}}</strong>
          <strong *ngIf="element.location == 'Onsite'" class="yard">{{element.location}}</strong><br>
          {{element.diaCita}} | {{element.horaCita}}<br>Service: {{element.tipoS}}<br>Vehicules: {{element.tipoV}}<br>
          Quantity: {{element.cantidadV}}     
        </ion-label>
      </ion-item>
      <div class="ion-padding" slot="content">
        <ion-grid>

          <ion-row>
            <ion-col class="neon">Order nÂº</ion-col>          
          </ion-row>
          <ion-row>
            <ion-col class="argon">{{element.nReporte}}</ion-col>          
          </ion-row>

          <ion-row>
            <ion-col class="neon" >Price</ion-col>
            <ion-col class="neon">Discount</ion-col>
            <ion-col class="neon">Total to pay</ion-col>
          </ion-row>

            <ion-row *ngIf="element.location == ''">
               <ion-col class="argon">Awaiting confirmation.</ion-col>        
          </ion-row>

          <ion-row *ngIf="element.location != ''">
            <ion-col class="argon">{{element.priceString}}</ion-col>
            <ion-col class="argon">{{element.descuentoString}}</ion-col>
            <ion-col class="argon">{{element.totalString}}</ion-col>            
          </ion-row>

         


        </ion-grid>
     
  
          <div *ngIf="n == 7">
            <hr class="linea" *ngIf="element.vercharge">
  <div class="neon" *ngIf="element.vercharge">Servicio Charge</div>
            <p *ngIf="element.vercharge" class="neon">Monto:</p>
            <p *ngIf="element.vercharge" class="argon">{{element.rp_monto}}</p>
              <p *ngIf="element.vercharge" class="neon">Concepto:</p>
              <p *ngIf="element.vercharge" class="argon">{{element.rp_concepto}}</p>
          </div>
          <div *ngIf="n == 7">
            <hr>
  <div *ngIf="element.vercharge">        
                <ion-button  shape="round" color="warning"   (click)="Galery(element.id)" > TO SEE PHOTOS <ion-icon slot="start"  name= "sparkles"></ion-icon>
                 </ion-button>               
           <ion-button  shape="round" color="secondary" (click)="Pay2(element.tipoS, element.precio, element.id, element.wash_id, element.discount, element.total,element.rp_monto,element.rp_concepto)" >TO PAY NOW  
           <ion-icon name="card" slot="start" ></ion-icon>             
            </ion-button>             
          </div>
                 <ion-button *ngIf="element.verenlace3" shape="round" color="warning"  (click)="Galery(element.id)">TO SEE PHOTOS <ion-icon slot="start" name="sparkles"></ion-icon>
          </ion-button>           
        <ion-button *ngIf="element.verenlace3" shape="round" color="secondary"  (click)="Pay1(element.tipoS, element.precio, element.id, element.id_wash, element.descuento, element.total)">TO PAY NOW    <ion-icon name="card"></ion-icon>
                         </ion-button>            
          </div>

          <div *ngIf=" 2 >= n" > 
            <ion-button shape="round" color="secondary"  (click)="Cancelar(element.id)">
              <ion-icon name="close-circle" slot="start"></ion-icon>
              Cancel
            </ion-button>
          </div>         

        <div *ngIf="n == 9">
            <div>
            <ion-button shape="round" color="secondary"  (click)="Archive(element.id)">           
              <ion-icon name="archive-sharp" slot="start" color="medium" ></ion-icon>
              Archive
            </ion-button>
          </div>
        </div>

          <div *ngIf="n == 8">
            <div>
            <ion-button shape="round" color="secondary"  (click)="Archive(element.id)">             
              <ion-icon name="archive-sharp" slot="start" color="medium" ></ion-icon>
              Archive
            </ion-button>
          </div>
        </div>

       

        <div *ngIf="element.archived === '1'">
          
          <div class="neon" *ngIf="element.status == 8"><ion-text color="warning"><ion-icon name="diamond-sharp"></ion-icon></ion-text> Service completed</div> 
          <div class="neon" *ngIf="element.status == 9"><ion-text color="warning"><ion-icon name="star-half-sharp"></ion-icon></ion-text> Service canceled</div>     
        </div>
     
          


      </div>
    </ion-accordion>   
  </ion-accordion-group>
</ion-content>
